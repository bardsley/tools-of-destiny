import{S as fe,i as he,s as de,k as w,q as U,a as q,l as v,m as A,r as I,h as p,c as N,n as b,p as ie,b as T,D as E,u as ae,I as H,j as lt,K as F,M as $e,g as pe,d as ge,H as re,N as ct,y as Le,z as Fe,A as Ge,B as Ve,L as ze,O as Ae}from"../chunks/index.466a05aa.js";import{w as ut}from"../chunks/index.f83cb8e3.js";import{b as ft,c as ht}from"../chunks/manifest.d6839a65.js";function ee(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var J={},dt={get exports(){return J},set exports(e){J=e}},pt=Me;function Me(e,t,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(t)?t.reverse().reduce(function(s,o){return Me.bind(null,e,o,s,n)},r)():Promise.resolve().then(function(){return e.registry[t]?e.registry[t].reduce(function(s,o){return o.hook.bind(null,s,n)},r)():r(n)})}var gt=mt;function mt(e,t,r,n){var s=n;e.registry[r]||(e.registry[r]=[]),t==="before"&&(n=function(o,i){return Promise.resolve().then(s.bind(null,i)).then(o.bind(null,i))}),t==="after"&&(n=function(o,i){var a;return Promise.resolve().then(o.bind(null,i)).then(function(l){return a=l,s(a,i)}).then(function(){return a})}),t==="error"&&(n=function(o,i){return Promise.resolve().then(o.bind(null,i)).catch(function(a){return s(a,i)})}),e.registry[r].push({hook:n,orig:s})}var yt=bt;function bt(e,t,r){if(e.registry[t]){var n=e.registry[t].map(function(s){return s.orig}).indexOf(r);n!==-1&&e.registry[t].splice(n,1)}}var We=pt,wt=gt,vt=yt,Te=Function.bind,ke=Te.bind(Te);function Xe(e,t,r){var n=ke(vt,null).apply(null,r?[t,r]:[t]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(s){var o=r?[t,s,r]:[t,s];e[s]=e.api[s]=ke(wt,null).apply(null,o)})}function _t(){var e="h",t={registry:{}},r=We.bind(null,t,e);return Xe(r,t,e),r}function Je(){var e={registry:{}},t=We.bind(null,e);return Xe(t,e),t}var Oe=!1;function V(){return Oe||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),Oe=!0),Je()}V.Singular=_t.bind();V.Collection=Je.bind();dt.exports=V;J.Hook=V;J.Singular=V.Singular;var Et=J.Collection=V.Collection;/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Se(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ke(e){var t,r;return Se(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(Se(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function At(e){return e?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}}function Ze(e,t){const r=Object.assign({},e);return Object.keys(t).forEach(n=>{Ke(t[n])?n in e?r[n]=Ze(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})}),r}function je(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function le(e,t,r){if(typeof t=="string"){let[s,o]=t.split(" ");r=Object.assign(o?{method:s,url:o}:{url:s},r)}else r=Object.assign({},t);r.headers=At(r.headers),je(r),je(r.headers);const n=Ze(e||{},r);return e&&e.mediaType.previews.length&&(n.mediaType.previews=e.mediaType.previews.filter(s=>!n.mediaType.previews.includes(s)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(s=>s.replace(/-preview/,"")),n}function Tt(e,t){const r=/\?/.test(e)?"&":"?",n=Object.keys(t);return n.length===0?e:e+r+n.map(s=>s==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${s}=${encodeURIComponent(t[s])}`).join("&")}const kt=/\{[^}]+\}/g;function Ot(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function St(e){const t=e.match(kt);return t?t.map(Ot).reduce((r,n)=>r.concat(n),[]):[]}function Pe(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function Qe(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function G(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function z(e,t,r){return t=e==="+"||e==="#"?Qe(t):G(t),r?G(r)+"="+t:t}function L(e){return e!=null}function ne(e){return e===";"||e==="&"||e==="?"}function jt(e,t,r,n){var s=e[r],o=[];if(L(s)&&s!=="")if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")s=s.toString(),n&&n!=="*"&&(s=s.substring(0,parseInt(n,10))),o.push(z(t,s,ne(t)?r:""));else if(n==="*")Array.isArray(s)?s.filter(L).forEach(function(i){o.push(z(t,i,ne(t)?r:""))}):Object.keys(s).forEach(function(i){L(s[i])&&o.push(z(t,s[i],i))});else{const i=[];Array.isArray(s)?s.filter(L).forEach(function(a){i.push(z(t,a))}):Object.keys(s).forEach(function(a){L(s[a])&&(i.push(G(a)),i.push(z(t,s[a].toString())))}),ne(t)?o.push(G(r)+"="+i.join(",")):i.length!==0&&o.push(i.join(","))}else t===";"?L(s)&&o.push(G(r)):s===""&&(t==="&"||t==="?")?o.push(G(r)+"="):s===""&&o.push("");return o}function Pt(e){return{expand:Dt.bind(null,e)}}function Dt(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,s,o){if(s){let a="";const l=[];if(r.indexOf(s.charAt(0))!==-1&&(a=s.charAt(0),s=s.substr(1)),s.split(/,/g).forEach(function(d){var m=/([^:\*]*)(?::(\d+)|(\*))?/.exec(d);l.push(jt(t,a,m[1],m[2]||m[3]))}),a&&a!=="+"){var i=",";return a==="?"?i="&":a!=="#"&&(i=a),(l.length!==0?a:"")+l.join(i)}else return l.join(",")}else return Qe(o)})}function Ye(e){let t=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},e.headers),s,o=Pe(e,["method","baseUrl","url","headers","request","mediaType"]);const i=St(r);r=Pt(r).expand(o),/^http/.test(r)||(r=e.baseUrl+r);const a=Object.keys(e).filter(m=>i.includes(m)).concat("baseUrl"),l=Pe(o,a);if(!/application\/octet-stream/i.test(n.accept)&&(e.mediaType.format&&(n.accept=n.accept.split(/,/).map(m=>m.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const m=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=m.concat(e.mediaType.previews).map(h=>{const y=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${h}-preview${y}`}).join(",")}return["GET","HEAD"].includes(t)?r=Tt(r,l):"data"in l?s=l.data:Object.keys(l).length&&(s=l),!n["content-type"]&&typeof s<"u"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof s>"u"&&(s=""),Object.assign({method:t,url:r,headers:n},typeof s<"u"?{body:s}:null,e.request?{request:e.request}:null)}function Rt(e,t,r){return Ye(le(e,t,r))}function et(e,t){const r=le(e,t),n=Rt.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:et.bind(null,r),merge:le.bind(null,r),parse:Ye})}const Ut="7.0.5",It=`octokit-endpoint.js/${Ut} ${ee()}`,Bt={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":It},mediaType:{format:"",previews:[]}},qt=et(null,Bt);var j=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof j<"u"&&j,D={searchParams:"URLSearchParams"in j,iterable:"Symbol"in j&&"iterator"in Symbol,blob:"FileReader"in j&&"Blob"in j&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in j,arrayBuffer:"ArrayBuffer"in j};function Nt(e){return e&&DataView.prototype.isPrototypeOf(e)}if(D.arrayBuffer)var xt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ht=ArrayBuffer.isView||function(e){return e&&xt.indexOf(Object.prototype.toString.call(e))>-1};function Z(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function me(e){return typeof e!="string"&&(e=String(e)),e}function ye(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return D.iterable&&(t[Symbol.iterator]=function(){return t}),t}function k(e){this.map={},e instanceof k?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}k.prototype.append=function(e,t){e=Z(e),t=me(t);var r=this.map[e];this.map[e]=r?r+", "+t:t};k.prototype.delete=function(e){delete this.map[Z(e)]};k.prototype.get=function(e){return e=Z(e),this.has(e)?this.map[e]:null};k.prototype.has=function(e){return this.map.hasOwnProperty(Z(e))};k.prototype.set=function(e,t){this.map[Z(e)]=me(t)};k.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)};k.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),ye(e)};k.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),ye(e)};k.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),ye(e)};D.iterable&&(k.prototype[Symbol.iterator]=k.prototype.entries);function se(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function tt(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function Ct(e){var t=new FileReader,r=tt(t);return t.readAsArrayBuffer(e),r}function $t(e){var t=new FileReader,r=tt(t);return t.readAsText(e),r}function Lt(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function De(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function rt(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:D.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:D.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:D.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():D.arrayBuffer&&D.blob&&Nt(e)?(this._bodyArrayBuffer=De(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):D.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Ht(e))?this._bodyArrayBuffer=De(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):D.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},D.blob&&(this.blob=function(){var e=se(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=se(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(Ct)}),this.text=function(){var e=se(this);if(e)return e;if(this._bodyBlob)return $t(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Lt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},D.formData&&(this.formData=function(){return this.text().then(Vt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ft=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Gt(e){var t=e.toUpperCase();return Ft.indexOf(t)>-1?t:e}function $(e,t){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof $){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new k(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new k(t.headers)),this.method=Gt(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function Vt(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),s=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(s),decodeURIComponent(o))}}),t}function zt(e){var t=new k,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var s=n.split(":"),o=s.shift().trim();if(o){var i=s.join(":").trim();t.append(o,i)}}),t}rt.call($.prototype);function B(e,t){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new k(t.headers),this.url=t.url||"",this._initBody(e)}rt.call(B.prototype);B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new k(this.headers),url:this.url})};B.error=function(){var e=new B(null,{status:0,statusText:""});return e.type="error",e};var Mt=[301,302,303,307,308];B.redirect=function(e,t){if(Mt.indexOf(t)===-1)throw new RangeError("Invalid status code");return new B(null,{status:t,headers:{location:e}})};var C=j.DOMException;try{new C}catch{C=function(t,r){this.message=t,this.name=r;var n=Error(t);this.stack=n.stack},C.prototype=Object.create(Error.prototype),C.prototype.constructor=C}function nt(e,t){return new Promise(function(r,n){var s=new $(e,t);if(s.signal&&s.signal.aborted)return n(new C("Aborted","AbortError"));var o=new XMLHttpRequest;function i(){o.abort()}o.onload=function(){var l={status:o.status,statusText:o.statusText,headers:zt(o.getAllResponseHeaders()||"")};l.url="responseURL"in o?o.responseURL:l.headers.get("X-Request-URL");var d="response"in o?o.response:o.responseText;setTimeout(function(){r(new B(d,l))},0)},o.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){n(new C("Aborted","AbortError"))},0)};function a(l){try{return l===""&&j.location.href?j.location.href:l}catch{return l}}o.open(s.method,a(s.url),!0),s.credentials==="include"?o.withCredentials=!0:s.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(D.blob?o.responseType="blob":D.arrayBuffer&&s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(o.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof k)?Object.getOwnPropertyNames(t.headers).forEach(function(l){o.setRequestHeader(l,me(t.headers[l]))}):s.headers.forEach(function(l,d){o.setRequestHeader(d,l)}),s.signal&&(s.signal.addEventListener("abort",i),o.onreadystatechange=function(){o.readyState===4&&s.signal.removeEventListener("abort",i)}),o.send(typeof s._bodyInit>"u"?null:s._bodyInit)})}nt.polyfill=!0;j.fetch||(j.fetch=nt,j.Headers=k,j.Request=$,j.Response=B);var Wt=self.fetch.bind(self);class Re extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var K={},Xt={get exports(){return K},set exports(e){K=e}},Jt=st;function st(e,t){if(e&&t)return st(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];var o=e.apply(this,n),i=n[n.length-1];return typeof o=="function"&&o!==i&&Object.keys(i).forEach(function(a){o[a]=i[a]}),o}}var ot=Jt;Xt.exports=ot(Y);K.strict=ot(it);Y.proto=Y(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Y(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return it(this)},configurable:!0})});function Y(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function it(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}const Kt=K(e=>console.warn(e)),Zt=K(e=>console.warn(e));class M extends Error{constructor(t,r,n){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let s;"headers"in n&&typeof n.headers<"u"&&(s=n.headers),"response"in n&&(this.response=n.response,s=n.response.headers);const o=Object.assign({},n.request);n.request.headers.authorization&&(o.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o,Object.defineProperty(this,"code",{get(){return Kt(new Re("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return Zt(new Re("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),s||{}}})}}const Qt="6.2.3";function Yt(e){return e.arrayBuffer()}function Ue(e){const t=e.request&&e.request.log?e.request.log:console;(Ke(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let r={},n,s;return(e.request&&e.request.fetch||globalThis.fetch||Wt)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async i=>{s=i.url,n=i.status;for(const a of i.headers)r[a[0]]=a[1];if("deprecation"in r){const a=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),l=a&&a.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${l?`. See ${l}`:""}`)}if(!(n===204||n===205)){if(e.method==="HEAD"){if(n<400)return;throw new M(i.statusText,n,{response:{url:s,status:n,headers:r,data:void 0},request:e})}if(n===304)throw new M("Not modified",n,{response:{url:s,status:n,headers:r,data:await oe(i)},request:e});if(n>=400){const a=await oe(i);throw new M(er(a),n,{response:{url:s,status:n,headers:r,data:a},request:e})}return oe(i)}}).then(i=>({status:n,url:s,headers:r,data:i})).catch(i=>{throw i instanceof M||i.name==="AbortError"?i:new M(i.message,500,{request:e})})}async function oe(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():Yt(e)}function er(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function ce(e,t){const r=e.defaults(t);return Object.assign(function(s,o){const i=r.merge(s,o);if(!i.request||!i.request.hook)return Ue(r.parse(i));const a=(l,d)=>Ue(r.parse(r.merge(l,d)));return Object.assign(a,{endpoint:r,defaults:ce.bind(null,r)}),i.request.hook(a,i)},{endpoint:r,defaults:ce.bind(null,r)})}const ue=ce(qt,{headers:{"user-agent":`octokit-request.js/${Qt} ${ee()}`}}),tr="5.0.5";function rr(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}class nr extends Error{constructor(t,r,n){super(rr(n)),this.request=t,this.headers=r,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const sr=["method","baseUrl","url","headers","request","query","mediaType"],or=["query","method","url"],Ie=/\/api\/v3\/?$/;function ir(e,t,r){if(r){if(typeof t=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const i in r)if(or.includes(i))return Promise.reject(new Error(`[@octokit/graphql] "${i}" cannot be used as variable name`))}const n=typeof t=="string"?Object.assign({query:t},r):t,s=Object.keys(n).reduce((i,a)=>sr.includes(a)?(i[a]=n[a],i):(i.variables||(i.variables={}),i.variables[a]=n[a],i),{}),o=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;return Ie.test(o)&&(s.url=o.replace(Ie,"/api/graphql")),e(s).then(i=>{if(i.data.errors){const a={};for(const l of Object.keys(i.headers))a[l]=i.headers[l];throw new nr(s,a,i.data)}return i.data.data})}function be(e,t){const r=e.defaults(t);return Object.assign((s,o)=>ir(r,s,o),{defaults:be.bind(null,r),endpoint:r.endpoint})}be(ue,{headers:{"user-agent":`octokit-graphql.js/${tr} ${ee()}`},method:"POST",url:"/graphql"});function ar(e){return be(e,{method:"POST",url:"/graphql"})}const lr=/^v1\./,cr=/^ghs_/,ur=/^ghu_/;async function fr(e){const t=e.split(/\./).length===3,r=lr.test(e)||cr.test(e),n=ur.test(e);return{type:"token",token:e,tokenType:t?"app":r?"installation":n?"user-to-server":"oauth"}}function hr(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function dr(e,t,r,n){const s=t.endpoint.merge(r,n);return s.headers.authorization=hr(e),t(s)}const pr=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(fr.bind(null,t),{hook:dr.bind(null,t)})},at="4.2.0";class we{constructor(t={}){const r=new Et,n={baseUrl:ue.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[t.userAgent,`octokit-core.js/${at} ${ee()}`].filter(Boolean).join(" "),t.baseUrl&&(n.baseUrl=t.baseUrl),t.previews&&(n.mediaType.previews=t.previews),t.timeZone&&(n.headers["time-zone"]=t.timeZone),this.request=ue.defaults(n),this.graphql=ar(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=r,t.authStrategy){const{authStrategy:o,...i}=t,a=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:i},t.auth));r.wrap("request",a.hook),this.auth=a}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const o=pr(t.auth);r.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,t))})}static defaults(t){return class extends this{constructor(...n){const s=n[0]||{};if(typeof t=="function"){super(t(s));return}super(Object.assign({},t,s,s.userAgent&&t.userAgent?{userAgent:`${s.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var r;const n=this.plugins;return r=class extends this{},r.plugins=n.concat(t.filter(o=>!n.includes(o))),r}}we.VERSION=at;we.plugins=[];let X,W;console.log("Load creds from localstorage key:github value: {personalAuthToken:'XXXX'}"),X=localStorage.getItem("github")?JSON.parse(localStorage.getItem("github"))?.personalAuthToken:!1,X&&(W=new we({auth:X}));const gr=async(e,t,r,n,s)=>{if(typeof X>"u"||typeof W>"u")return console.error("Incorrect token",X,W),!1;if(!(e&&e.personalAuthToken&&e.repoName&&e.personalAuthToken))return console.error("Incorrect gitConfig",e),!1;let o={data:{content:""}},i=`${t}.txt`;try{o=await W.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:e.owner,repo:e.repoName,path:i,headers:{}})}catch{console.log("File does not exist",i)}finally{console.log(o?.data)}let a=atob(o?.data?.content),l=new RegExp(`(//${r}start)([\\s\\S.]*?)(//${r}end)

`,"gm");a=a.replace(l,""),a=a.replace(/[\n\r]{3,}/gm,`

`);let d=a+`//${r}start
// ${n}
`+s+`
//${r}end

`,m={owner:"bardsley",repo:"wishwall",path:i,message:"Commit from the JSss",committer:{name:"perk-o-lator",email:"riven@destiny.tools"},content:btoa(d),headers:{}};o?.data?.sha&&(m={...m,sha:o?.data?.sha}),console.log(m);const h=await W.request("PUT /repos/{owner}/{repo}/contents/{path}",m);return console.log(h),h?.data?.content?.download_url};function Be(e){let t,r,n,s,o,i,a;return{c(){t=w("button"),r=U("Copy to Clipboard"),n=q(),s=w("button"),o=U("Add To Git"),this.h()},l(l){t=v(l,"BUTTON",{class:!0});var d=A(t);r=I(d,"Copy to Clipboard"),d.forEach(p),n=N(l),s=v(l,"BUTTON",{class:!0});var m=A(s);o=I(m,"Add To Git"),m.forEach(p),this.h()},h(){b(t,"class","svelte-1gdozns"),b(s,"class","svelte-1gdozns")},m(l,d){T(l,t,d),E(t,r),T(l,n,d),T(l,s,d),E(s,o),i||(a=[F(t,"click",e[3]),F(t,"touch",e[3]),F(s,"click",e[4]),F(s,"touch",e[4])],i=!0)},p:H,d(l){l&&p(t),l&&p(n),l&&p(s),i=!1,$e(a)}}}function mr(e){let t,r,n=e[0].length+"",s,o,i,a,l,d,m,h,y,S,_=e[1]?.message+"",P,f,c=e[0].length>0&&Be(e);return{c(){t=w("h3"),r=U("Generated "),s=U(n),o=U(` Perk Combos for DIM \r
    `),c&&c.c(),i=q(),a=w("textarea"),d=w("br"),m=q(),h=w("p"),y=w("a"),S=w("span"),P=U(_),this.h()},l(u){t=v(u,"H3",{class:!0});var g=A(t);r=I(g,"Generated "),s=I(g,n),o=I(g,` Perk Combos for DIM \r
    `),c&&c.l(g),g.forEach(p),i=N(u),a=v(u,"TEXTAREA",{id:!0,style:!0,class:!0}),A(a).forEach(p),d=v(u,"BR",{}),m=N(u),h=v(u,"P",{id:!0,class:!0});var R=A(h);y=v(R,"A",{href:!0,class:!0});var O=A(y);S=v(O,"SPAN",{class:!0});var x=A(S);P=I(x,_),x.forEach(p),O.forEach(p),R.forEach(p),this.h()},h(){b(t,"class","svelte-1gdozns"),b(a,"id","wish-wall"),ie(a,"height",Math.min(e[2].length*1.125,20)+"em"),a.value=l=""+e[2].join(`
`)+`\r
`,b(a,"class","svelte-1gdozns"),b(S,"class","svelte-1gdozns"),b(y,"href",f=e[1]?.url),b(y,"class","svelte-1gdozns"),b(h,"id","status"),b(h,"class","svelte-1gdozns")},m(u,g){T(u,t,g),E(t,r),E(t,s),E(t,o),c&&c.m(t,null),T(u,i,g),T(u,a,g),T(u,d,g),T(u,m,g),T(u,h,g),E(h,y),E(y,S),E(S,P)},p(u,[g]){g&1&&n!==(n=u[0].length+"")&&ae(s,n),u[0].length>0?c?c.p(u,g):(c=Be(u),c.c(),c.m(t,null)):c&&(c.d(1),c=null),g&4&&ie(a,"height",Math.min(u[2].length*1.125,20)+"em"),g&4&&l!==(l=""+u[2].join(`
`)+`\r
`)&&(a.value=l),g&2&&_!==(_=u[1]?.message+"")&&ae(P,_),g&2&&f!==(f=u[1]?.url)&&b(y,"href",f)},i:H,o:H,d(u){u&&p(t),c&&c.d(),u&&p(i),u&&p(a),u&&p(d),u&&p(m),u&&p(h)}}}function qe(e){return e.every(t=>t<1)}function yr(e,t,r){let n,{selectedPerks:s=[]}=t,{itemID:o=0}=t,{itemName:i=""}=t,{wishes:a=[]}=t,l=new Array(s.length).fill(0),d={message:"",url:""},m=[],h=(f,c)=>`dimwishlist:item=${f}&perks=${s[0][c[0]]},${s[1][c[1]]},${s[2][c[2]]},${s[3][c[3]]}`,y=()=>{let f=document.getElementById("wish-wall");f.select(),f.setSelectionRange(0,99999),navigator.clipboard.writeText(f.value)};lt(()=>{if(console.log(`Updated Wishlist
----------------`),P("Start"),n)console.log("Not enough options");else{for(r(0,a=[]),s.forEach((f,c)=>{l[c]=f.length-1});!qe(l)&&_<100;)r(0,a=[...a,h(o,l)]),l[0]>0?l[0]-=1:(l[0]=s[0].length-1,l[1]>0?l[1]-=1:(l[1]=s[1].length-1,l[2]>0?l[2]-=1:(l[2]=s[2].length-1,l[3]>0?l[3]-=1:l[3]=s[3].length-1))),_+=1;P("Last Wish"),r(0,a=[...a,h(o,l)]),r(2,m=[`// ${i}`,"// - perks from perk-o-lator https://destiny.tools/perk-o-lator",...a])}_=0});let S=f=>{let c=localStorage.getItem("github");c&&(c=JSON.parse(c)),a.length>0&&c&&c.personalAuthToken&&c.repoName&&c.owner&&c.fileName&&c.personalAuthToken&&gr(c,c.fileName,o,i,a.join(`
`)).then(g=>{r(1,d={message:"Saved to "+g,url:g})},g=>{r(1,d={message:"Failed"})})},_=0,P=f=>{console.debug("----",f,"----",`
Done?`,qe(l),`
Indices`,l,"Perks",s)};return e.$$set=f=>{"selectedPerks"in f&&r(5,s=f.selectedPerks),"itemID"in f&&r(6,o=f.itemID),"itemName"in f&&r(7,i=f.itemName),"wishes"in f&&r(0,a=f.wishes)},e.$$.update=()=>{e.$$.dirty&32&&s.forEach((f,c)=>{l[c]=f.length-1}),e.$$.dirty&32&&(n=s.some(f=>f.length<1))},[a,d,m,y,S,s,o,i]}class br extends fe{constructor(t){super(),he(this,t,yr,mr,de,{selectedPerks:5,itemID:6,itemName:7,wishes:0})}}function wr(e){let t,r,n,s;return{c(){t=w("span"),r=U("Loading"),n=q(),s=w("small"),this.h()},l(o){t=v(o,"SPAN",{id:!0});var i=A(t);r=I(i,"Loading"),i.forEach(p),n=N(o),s=v(o,"SMALL",{});var a=A(s);a.forEach(p),this.h()},h(){b(t,"id","loader")},m(o,i){T(o,t,i),E(t,r),T(o,n,i),T(o,s,i)},p:H,i:H,o:H,d(o){o&&p(t),o&&p(n),o&&p(s)}}}class vr extends fe{constructor(t){super(),he(this,t,null,wr,de,{})}}function Ne(e,t,r){const n=e.slice();return n[13]=t[r],n[15]=r,n}function xe(e,t,r){const n=e.slice();return n[16]=t[r],n}function _r(e){let t,r;return t=new vr({}),{c(){Le(t.$$.fragment)},l(n){Fe(t.$$.fragment,n)},m(n,s){Ge(t,n,s),r=!0},p:H,i(n){r||(pe(t.$$.fragment,n),r=!0)},o(n){ge(t.$$.fragment,n),r=!1},d(n){Ve(t,n)}}}function Er(e){let t,r,n,s,o,i,a,l,d,m,h,y,S,_,P,f=e[5],c=[];for(let u=0;u<f.length;u+=1)c[u]=Ce(Ne(e,f,u));return _=new br({props:{selectedPerks:e[1],itemID:e[3],itemName:e[4]}}),{c(){t=w("header"),r=w("h1"),n=U(e[4]),s=q(),o=w("p"),i=w("a"),a=U("Light.GG"),l=q(),d=w("div"),m=w("div"),h=w("div");for(let u=0;u<c.length;u+=1)c[u].c();y=q(),S=w("div"),Le(_.$$.fragment),this.h()},l(u){t=v(u,"HEADER",{class:!0});var g=A(t);r=v(g,"H1",{class:!0});var R=A(r);n=I(R,e[4]),R.forEach(p),s=N(g),o=v(g,"P",{class:!0});var O=A(o);i=v(O,"A",{href:!0,target:!0,class:!0});var x=A(i);a=I(x,"Light.GG"),x.forEach(p),O.forEach(p),g.forEach(p),l=N(u),d=v(u,"DIV",{class:!0});var Q=A(d);m=v(Q,"DIV",{class:!0});var ve=A(m);h=v(ve,"DIV",{class:!0});var _e=A(h);for(let te=0;te<c.length;te+=1)c[te].l(_e);_e.forEach(p),ve.forEach(p),y=N(Q),S=v(Q,"DIV",{class:!0});var Ee=A(S);Fe(_.$$.fragment,Ee),Ee.forEach(p),Q.forEach(p),this.h()},h(){b(r,"class","svelte-fc7gww"),b(i,"href","https://www.light.gg/db/items/"+e[3]),b(i,"target","_blank"),b(i,"class","svelte-fc7gww"),b(o,"class","svelte-fc7gww"),b(t,"class","svelte-fc7gww"),b(h,"class","perks svelte-fc7gww"),b(m,"class","selector"),b(S,"class","cut-n-paste"),b(d,"class","columns svelte-fc7gww")},m(u,g){T(u,t,g),E(t,r),E(r,n),E(t,s),E(t,o),E(o,i),E(i,a),T(u,l,g),T(u,d,g),E(d,m),E(m,h);for(let R=0;R<c.length;R+=1)c[R]&&c[R].m(h,null);E(d,y),E(d,S),Ge(_,S,null),P=!0},p(u,g){if(g&96){f=u[5];let O;for(O=0;O<f.length;O+=1){const x=Ne(u,f,O);c[O]?c[O].p(x,g):(c[O]=Ce(x),c[O].c(),c[O].m(h,null))}for(;O<c.length;O+=1)c[O].d(1);c.length=f.length}const R={};g&2&&(R.selectedPerks=u[1]),_.$set(R)},i(u){P||(pe(_.$$.fragment,u),P=!0)},o(u){ge(_.$$.fragment,u),P=!1},d(u){u&&p(t),u&&p(l),u&&p(d),ze(c,u),Ve(_)}}}function He(e){let t,r,n;return{c(){t=w("a"),this.h()},l(s){t=v(s,"A",{"data-perkid":!0,"data-colid":!0,class:!0,style:!0});var o=A(t);o.forEach(p),this.h()},h(){b(t,"data-perkid",e[16].id),b(t,"data-colid",e[15]),b(t,"class","perk "+e[16].enhanced+" svelte-fc7gww"),ie(t,"background-image","url('https://www.bungie.net"+e[16].icon+"')")},m(s,o){T(s,t,o),r||(n=[F(t,"click",Ae(e[6])),F(t,"touch",Ae(e[6]))],r=!0)},p:H,d(s){s&&p(t),r=!1,$e(n)}}}function Ce(e){let t,r,n=e[13],s=[];for(let o=0;o<n.length;o+=1)s[o]=He(xe(e,n,o));return{c(){t=w("div");for(let o=0;o<s.length;o+=1)s[o].c();r=q(),this.h()},l(o){t=v(o,"DIV",{class:!0});var i=A(t);for(let a=0;a<s.length;a+=1)s[a].l(i);r=N(i),i.forEach(p),this.h()},h(){b(t,"class","perkCol")},m(o,i){T(o,t,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null);E(t,r)},p(o,i){if(i&96){n=o[13];let a;for(a=0;a<n.length;a+=1){const l=xe(o,n,a);s[a]?s[a].p(l,i):(s[a]=He(l),s[a].c(),s[a].m(t,r))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(o){o&&p(t),ze(s,o)}}}function Ar(e){let t=console.log(e[0])+"",r,n,s,o,i,a;const l=[Er,_r],d=[];function m(h,y){return h[4]?0:1}return o=m(e),i=d[o]=l[o](e),{c(){r=U(t),n=q(),s=w("div"),i.c(),this.h()},l(h){r=I(h,t),n=N(h),s=v(h,"DIV",{class:!0});var y=A(s);i.l(y),y.forEach(p),this.h()},h(){b(s,"class","item svelte-fc7gww")},m(h,y){T(h,r,y),T(h,n,y),T(h,s,y),d[o].m(s,null),a=!0},p(h,[y]){(!a||y&1)&&t!==(t=console.log(h[0])+"")&&ae(r,t),i.p(h,y)},i(h){a||(pe(i),a=!0)},o(h){ge(i),a=!1},d(h){h&&p(r),h&&p(n),h&&p(s),d[o].d()}}}function Tr(e,t,r){let n,s,o;re(e,ft,f=>r(7,s=f)),re(e,ht,f=>r(8,o=f));let{data:i}=t;const a=ut([[],[],[],[]]);re(e,a,f=>r(1,n=f));const l=window.location.hash.substr(1),d=s[l]?.displayProperties?.name,h=[1,2,3,4].map(f=>s[l]?.sockets.socketEntries[f].randomizedPlugSetHash).filter(f=>f>0).map(f=>o[f].reusablePlugItems.map(c=>c.plugItemHash)),y=new RegExp("Enhanced"),S=h.map(function(f){return f.map(function(c){return{id:c,name:s[c]?.displayProperties?.name,icon:s[c]?.displayProperties?.iconSequences[1]?.frames[0],enhanced:s[c]?.itemTypeDisplayName.match(y)?"enhanced":"basic"}})}),_=(f,c)=>f.includes(c)?f.filter(u=>u!=c):[...f,c];function P(f){f.target.dataset.perkid;let c=f.target.dataset.colid;f.target.classList.toggle("selected"),ct(a,n[c]=_(n[c],f.target.dataset.perkid),n)}return e.$$set=f=>{"data"in f&&r(0,i=f.data)},[i,n,a,l,d,S,P]}class jr extends fe{constructor(t){super(),he(this,t,Tr,Ar,de,{data:0})}}export{jr as default};
