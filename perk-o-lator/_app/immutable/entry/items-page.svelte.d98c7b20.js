import{S as fe,i as he,s as de,k as b,q as B,a as x,l as v,m as E,r as q,h as d,c as N,n as m,p as ae,b as O,D as _,u as Ae,I as H,j as lt,K as C,M as Ce,g as pe,d as ge,H as Y,P as ct,y as Le,z as Fe,A as Ge,B as Ve,L as ze,Q as ne}from"../chunks/index.65d71a4e.js";import{w as ut}from"../chunks/singletons.bcc6ca3e.js";import{p as ft}from"../chunks/stores.614e20fc.js";import{b as ht,c as dt}from"../chunks/manifest.240ec56c.js";import{a as pt}from"../chunks/d2Hardcoded.1130ecfb.js";function te(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var J={},gt={get exports(){return J},set exports(e){J=e}},mt=Me;function Me(e,t,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(t)?t.reverse().reduce(function(s,o){return Me.bind(null,e,o,s,n)},r)():Promise.resolve().then(function(){return e.registry[t]?e.registry[t].reduce(function(s,o){return o.hook.bind(null,s,n)},r)():r(n)})}var yt=bt;function bt(e,t,r,n){var s=n;e.registry[r]||(e.registry[r]=[]),t==="before"&&(n=function(o,i){return Promise.resolve().then(s.bind(null,i)).then(o.bind(null,i))}),t==="after"&&(n=function(o,i){var a;return Promise.resolve().then(o.bind(null,i)).then(function(l){return a=l,s(a,i)}).then(function(){return a})}),t==="error"&&(n=function(o,i){return Promise.resolve().then(o.bind(null,i)).catch(function(a){return s(a,i)})}),e.registry[r].push({hook:n,orig:s})}var vt=wt;function wt(e,t,r){if(e.registry[t]){var n=e.registry[t].map(function(s){return s.orig}).indexOf(r);n!==-1&&e.registry[t].splice(n,1)}}var We=mt,_t=yt,Et=vt,Te=Function.bind,ke=Te.bind(Te);function Xe(e,t,r){var n=ke(Et,null).apply(null,r?[t,r]:[t]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(s){var o=r?[t,s,r]:[t,s];e[s]=e.api[s]=ke(_t,null).apply(null,o)})}function At(){var e="h",t={registry:{}},r=We.bind(null,t,e);return Xe(r,t,e),r}function Je(){var e={registry:{}},t=We.bind(null,e);return Xe(t,e),t}var Oe=!1;function V(){return Oe||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),Oe=!0),Je()}V.Singular=At.bind();V.Collection=Je.bind();gt.exports=V;J.Hook=V;J.Singular=V.Singular;var Tt=J.Collection=V.Collection;/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Se(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ke(e){var t,r;return Se(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(Se(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function kt(e){return e?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}}function Qe(e,t){const r=Object.assign({},e);return Object.keys(t).forEach(n=>{Ke(t[n])?n in e?r[n]=Qe(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})}),r}function Pe(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function le(e,t,r){if(typeof t=="string"){let[s,o]=t.split(" ");r=Object.assign(o?{method:s,url:o}:{url:s},r)}else r=Object.assign({},t);r.headers=kt(r.headers),Pe(r),Pe(r.headers);const n=Qe(e||{},r);return e&&e.mediaType.previews.length&&(n.mediaType.previews=e.mediaType.previews.filter(s=>!n.mediaType.previews.includes(s)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(s=>s.replace(/-preview/,"")),n}function Ot(e,t){const r=/\?/.test(e)?"&":"?",n=Object.keys(t);return n.length===0?e:e+r+n.map(s=>s==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${s}=${encodeURIComponent(t[s])}`).join("&")}const St=/\{[^}]+\}/g;function Pt(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function jt(e){const t=e.match(St);return t?t.map(Pt).reduce((r,n)=>r.concat(n),[]):[]}function je(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function Ze(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function G(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function z(e,t,r){return t=e==="+"||e==="#"?Ze(t):G(t),r?G(r)+"="+t:t}function F(e){return e!=null}function se(e){return e===";"||e==="&"||e==="?"}function Rt(e,t,r,n){var s=e[r],o=[];if(F(s)&&s!=="")if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")s=s.toString(),n&&n!=="*"&&(s=s.substring(0,parseInt(n,10))),o.push(z(t,s,se(t)?r:""));else if(n==="*")Array.isArray(s)?s.filter(F).forEach(function(i){o.push(z(t,i,se(t)?r:""))}):Object.keys(s).forEach(function(i){F(s[i])&&o.push(z(t,s[i],i))});else{const i=[];Array.isArray(s)?s.filter(F).forEach(function(a){i.push(z(t,a))}):Object.keys(s).forEach(function(a){F(s[a])&&(i.push(G(a)),i.push(z(t,s[a].toString())))}),se(t)?o.push(G(r)+"="+i.join(",")):i.length!==0&&o.push(i.join(","))}else t===";"?F(s)&&o.push(G(r)):s===""&&(t==="&"||t==="?")?o.push(G(r)+"="):s===""&&o.push("");return o}function Dt(e){return{expand:Ut.bind(null,e)}}function Ut(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,s,o){if(s){let a="";const l=[];if(r.indexOf(s.charAt(0))!==-1&&(a=s.charAt(0),s=s.substr(1)),s.split(/,/g).forEach(function(f){var g=/([^:\*]*)(?::(\d+)|(\*))?/.exec(f);l.push(Rt(t,a,g[1],g[2]||g[3]))}),a&&a!=="+"){var i=",";return a==="?"?i="&":a!=="#"&&(i=a),(l.length!==0?a:"")+l.join(i)}else return l.join(",")}else return Ze(o)})}function Ye(e){let t=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},e.headers),s,o=je(e,["method","baseUrl","url","headers","request","mediaType"]);const i=jt(r);r=Dt(r).expand(o),/^http/.test(r)||(r=e.baseUrl+r);const a=Object.keys(e).filter(g=>i.includes(g)).concat("baseUrl"),l=je(o,a);if(!/application\/octet-stream/i.test(n.accept)&&(e.mediaType.format&&(n.accept=n.accept.split(/,/).map(g=>g.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const g=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=g.concat(e.mediaType.previews).map(y=>{const T=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${y}-preview${T}`}).join(",")}return["GET","HEAD"].includes(t)?r=Ot(r,l):"data"in l?s=l.data:Object.keys(l).length&&(s=l),!n["content-type"]&&typeof s<"u"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof s>"u"&&(s=""),Object.assign({method:t,url:r,headers:n},typeof s<"u"?{body:s}:null,e.request?{request:e.request}:null)}function Bt(e,t,r){return Ye(le(e,t,r))}function et(e,t){const r=le(e,t),n=Bt.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:et.bind(null,r),merge:le.bind(null,r),parse:Ye})}const qt="7.0.5",It=`octokit-endpoint.js/${qt} ${te()}`,xt={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":It},mediaType:{format:"",previews:[]}},Nt=et(null,xt);var P=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof P<"u"&&P,R={searchParams:"URLSearchParams"in P,iterable:"Symbol"in P&&"iterator"in Symbol,blob:"FileReader"in P&&"Blob"in P&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in P,arrayBuffer:"ArrayBuffer"in P};function Ht(e){return e&&DataView.prototype.isPrototypeOf(e)}if(R.arrayBuffer)var $t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ct=ArrayBuffer.isView||function(e){return e&&$t.indexOf(Object.prototype.toString.call(e))>-1};function Q(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function me(e){return typeof e!="string"&&(e=String(e)),e}function ye(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return R.iterable&&(t[Symbol.iterator]=function(){return t}),t}function A(e){this.map={},e instanceof A?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}A.prototype.append=function(e,t){e=Q(e),t=me(t);var r=this.map[e];this.map[e]=r?r+", "+t:t};A.prototype.delete=function(e){delete this.map[Q(e)]};A.prototype.get=function(e){return e=Q(e),this.has(e)?this.map[e]:null};A.prototype.has=function(e){return this.map.hasOwnProperty(Q(e))};A.prototype.set=function(e,t){this.map[Q(e)]=me(t)};A.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)};A.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),ye(e)};A.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),ye(e)};A.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),ye(e)};R.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function oe(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function tt(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function Lt(e){var t=new FileReader,r=tt(t);return t.readAsArrayBuffer(e),r}function Ft(e){var t=new FileReader,r=tt(t);return t.readAsText(e),r}function Gt(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function Re(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function rt(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:R.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:R.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:R.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():R.arrayBuffer&&R.blob&&Ht(e)?(this._bodyArrayBuffer=Re(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):R.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Ct(e))?this._bodyArrayBuffer=Re(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):R.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},R.blob&&(this.blob=function(){var e=oe(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=oe(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(Lt)}),this.text=function(){var e=oe(this);if(e)return e;if(this._bodyBlob)return Ft(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Gt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},R.formData&&(this.formData=function(){return this.text().then(Mt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Vt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function zt(e){var t=e.toUpperCase();return Vt.indexOf(t)>-1?t:e}function L(e,t){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof L){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new A(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new A(t.headers)),this.method=zt(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function Mt(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),s=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(s),decodeURIComponent(o))}}),t}function Wt(e){var t=new A,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var s=n.split(":"),o=s.shift().trim();if(o){var i=s.join(":").trim();t.append(o,i)}}),t}rt.call(L.prototype);function U(e,t){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new A(t.headers),this.url=t.url||"",this._initBody(e)}rt.call(U.prototype);U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})};U.error=function(){var e=new U(null,{status:0,statusText:""});return e.type="error",e};var Xt=[301,302,303,307,308];U.redirect=function(e,t){if(Xt.indexOf(t)===-1)throw new RangeError("Invalid status code");return new U(null,{status:t,headers:{location:e}})};var $=P.DOMException;try{new $}catch{$=function(t,r){this.message=t,this.name=r;var n=Error(t);this.stack=n.stack},$.prototype=Object.create(Error.prototype),$.prototype.constructor=$}function nt(e,t){return new Promise(function(r,n){var s=new L(e,t);if(s.signal&&s.signal.aborted)return n(new $("Aborted","AbortError"));var o=new XMLHttpRequest;function i(){o.abort()}o.onload=function(){var l={status:o.status,statusText:o.statusText,headers:Wt(o.getAllResponseHeaders()||"")};l.url="responseURL"in o?o.responseURL:l.headers.get("X-Request-URL");var f="response"in o?o.response:o.responseText;setTimeout(function(){r(new U(f,l))},0)},o.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){n(new $("Aborted","AbortError"))},0)};function a(l){try{return l===""&&P.location.href?P.location.href:l}catch{return l}}o.open(s.method,a(s.url),!0),s.credentials==="include"?o.withCredentials=!0:s.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(R.blob?o.responseType="blob":R.arrayBuffer&&s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(o.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof A)?Object.getOwnPropertyNames(t.headers).forEach(function(l){o.setRequestHeader(l,me(t.headers[l]))}):s.headers.forEach(function(l,f){o.setRequestHeader(f,l)}),s.signal&&(s.signal.addEventListener("abort",i),o.onreadystatechange=function(){o.readyState===4&&s.signal.removeEventListener("abort",i)}),o.send(typeof s._bodyInit>"u"?null:s._bodyInit)})}nt.polyfill=!0;P.fetch||(P.fetch=nt,P.Headers=A,P.Request=L,P.Response=U);var Jt=self.fetch.bind(self);class De extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var K={},Kt={get exports(){return K},set exports(e){K=e}},Qt=st;function st(e,t){if(e&&t)return st(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];var o=e.apply(this,n),i=n[n.length-1];return typeof o=="function"&&o!==i&&Object.keys(i).forEach(function(a){o[a]=i[a]}),o}}var ot=Qt;Kt.exports=ot(ee);K.strict=ot(it);ee.proto=ee(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return ee(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return it(this)},configurable:!0})});function ee(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function it(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}const Zt=K(e=>console.warn(e)),Yt=K(e=>console.warn(e));class M extends Error{constructor(t,r,n){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let s;"headers"in n&&typeof n.headers<"u"&&(s=n.headers),"response"in n&&(this.response=n.response,s=n.response.headers);const o=Object.assign({},n.request);n.request.headers.authorization&&(o.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o,Object.defineProperty(this,"code",{get(){return Zt(new De("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return Yt(new De("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),s||{}}})}}const er="6.2.3";function tr(e){return e.arrayBuffer()}function Ue(e){const t=e.request&&e.request.log?e.request.log:console;(Ke(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let r={},n,s;return(e.request&&e.request.fetch||globalThis.fetch||Jt)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async i=>{s=i.url,n=i.status;for(const a of i.headers)r[a[0]]=a[1];if("deprecation"in r){const a=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),l=a&&a.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${l?`. See ${l}`:""}`)}if(!(n===204||n===205)){if(e.method==="HEAD"){if(n<400)return;throw new M(i.statusText,n,{response:{url:s,status:n,headers:r,data:void 0},request:e})}if(n===304)throw new M("Not modified",n,{response:{url:s,status:n,headers:r,data:await ie(i)},request:e});if(n>=400){const a=await ie(i);throw new M(rr(a),n,{response:{url:s,status:n,headers:r,data:a},request:e})}return ie(i)}}).then(i=>({status:n,url:s,headers:r,data:i})).catch(i=>{throw i instanceof M||i.name==="AbortError"?i:new M(i.message,500,{request:e})})}async function ie(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():tr(e)}function rr(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function ce(e,t){const r=e.defaults(t);return Object.assign(function(s,o){const i=r.merge(s,o);if(!i.request||!i.request.hook)return Ue(r.parse(i));const a=(l,f)=>Ue(r.parse(r.merge(l,f)));return Object.assign(a,{endpoint:r,defaults:ce.bind(null,r)}),i.request.hook(a,i)},{endpoint:r,defaults:ce.bind(null,r)})}const ue=ce(Nt,{headers:{"user-agent":`octokit-request.js/${er} ${te()}`}}),nr="5.0.5";function sr(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}class or extends Error{constructor(t,r,n){super(sr(n)),this.request=t,this.headers=r,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const ir=["method","baseUrl","url","headers","request","query","mediaType"],ar=["query","method","url"],Be=/\/api\/v3\/?$/;function lr(e,t,r){if(r){if(typeof t=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const i in r)if(ar.includes(i))return Promise.reject(new Error(`[@octokit/graphql] "${i}" cannot be used as variable name`))}const n=typeof t=="string"?Object.assign({query:t},r):t,s=Object.keys(n).reduce((i,a)=>ir.includes(a)?(i[a]=n[a],i):(i.variables||(i.variables={}),i.variables[a]=n[a],i),{}),o=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;return Be.test(o)&&(s.url=o.replace(Be,"/api/graphql")),e(s).then(i=>{if(i.data.errors){const a={};for(const l of Object.keys(i.headers))a[l]=i.headers[l];throw new or(s,a,i.data)}return i.data.data})}function be(e,t){const r=e.defaults(t);return Object.assign((s,o)=>lr(r,s,o),{defaults:be.bind(null,r),endpoint:r.endpoint})}be(ue,{headers:{"user-agent":`octokit-graphql.js/${nr} ${te()}`},method:"POST",url:"/graphql"});function cr(e){return be(e,{method:"POST",url:"/graphql"})}const ur=/^v1\./,fr=/^ghs_/,hr=/^ghu_/;async function dr(e){const t=e.split(/\./).length===3,r=ur.test(e)||fr.test(e),n=hr.test(e);return{type:"token",token:e,tokenType:t?"app":r?"installation":n?"user-to-server":"oauth"}}function pr(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function gr(e,t,r,n){const s=t.endpoint.merge(r,n);return s.headers.authorization=pr(e),t(s)}const mr=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(dr.bind(null,t),{hook:gr.bind(null,t)})},at="4.2.0";class ve{constructor(t={}){const r=new Tt,n={baseUrl:ue.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[t.userAgent,`octokit-core.js/${at} ${te()}`].filter(Boolean).join(" "),t.baseUrl&&(n.baseUrl=t.baseUrl),t.previews&&(n.mediaType.previews=t.previews),t.timeZone&&(n.headers["time-zone"]=t.timeZone),this.request=ue.defaults(n),this.graphql=cr(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=r,t.authStrategy){const{authStrategy:o,...i}=t,a=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:i},t.auth));r.wrap("request",a.hook),this.auth=a}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const o=mr(t.auth);r.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,t))})}static defaults(t){return class extends this{constructor(...n){const s=n[0]||{};if(typeof t=="function"){super(t(s));return}super(Object.assign({},t,s,s.userAgent&&t.userAgent?{userAgent:`${s.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var r;const n=this.plugins;return r=class extends this{},r.plugins=n.concat(t.filter(o=>!n.includes(o))),r}}ve.VERSION=at;ve.plugins=[];let X,W;console.log("Load creds from localstorage key:github value: {personalAuthToken:'XXXX'}"),X=localStorage.getItem("github")?JSON.parse(localStorage.getItem("github"))?.personalAuthToken:!1,X&&(W=new ve({auth:X}));const yr=async(e,t,r,n,s)=>{if(typeof X>"u"||typeof W>"u")return console.error("Incorrect token",X,W),!1;if(!(e&&e.personalAuthToken&&e.repoName&&e.personalAuthToken))return console.error("Incorrect gitConfig",e),!1;let o={data:{content:""}},i=`${t}.txt`;try{o=await W.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:e.owner,repo:e.repoName,path:i,headers:{}})}catch{console.log("File does not exist",i)}finally{console.log(o?.data)}let a=atob(o?.data?.content),l=new RegExp(`(//${r}start)([\\s\\S.]*?)(//${r}end)

`,"gm");a=a.replace(l,""),a=a.replace(/[\n\r]{3,}/gm,`

`);let f=a+`//${r}start
// ${n}
`+s+`
//${r}end

`,g={owner:"bardsley",repo:"wishwall",path:i,message:"Commit from the JSss",committer:{name:"perk-o-lator",email:"riven@destiny.tools"},content:btoa(f),headers:{}};o?.data?.sha&&(g={...g,sha:o?.data?.sha}),console.log(g);const y=await W.request("PUT /repos/{owner}/{repo}/contents/{path}",g);return console.log(y),y?.data?.content?.download_url};function qe(e){let t,r,n,s,o,i,a;return{c(){t=b("button"),r=B("Copy to Clipboard"),n=x(),s=b("button"),o=B("Add To Git"),this.h()},l(l){t=v(l,"BUTTON",{class:!0});var f=E(t);r=q(f,"Copy to Clipboard"),f.forEach(d),n=N(l),s=v(l,"BUTTON",{class:!0});var g=E(s);o=q(g,"Add To Git"),g.forEach(d),this.h()},h(){m(t,"class","svelte-1gdozns"),m(s,"class","svelte-1gdozns")},m(l,f){O(l,t,f),_(t,r),O(l,n,f),O(l,s,f),_(s,o),i||(a=[C(t,"click",e[3]),C(t,"touch",e[3]),C(s,"click",e[4]),C(s,"touch",e[4])],i=!0)},p:H,d(l){l&&d(t),l&&d(n),l&&d(s),i=!1,Ce(a)}}}function br(e){let t,r,n=e[0].length+"",s,o,i,a,l,f,g,y,T,S,w=e[1]?.message+"",j,p,c=e[0].length>0&&qe(e);return{c(){t=b("h3"),r=B("Generated "),s=B(n),o=B(` Perk Combos for DIM \r
    `),c&&c.c(),i=x(),a=b("textarea"),f=b("br"),g=x(),y=b("p"),T=b("a"),S=b("span"),j=B(w),this.h()},l(u){t=v(u,"H3",{class:!0});var h=E(t);r=q(h,"Generated "),s=q(h,n),o=q(h,` Perk Combos for DIM \r
    `),c&&c.l(h),h.forEach(d),i=N(u),a=v(u,"TEXTAREA",{id:!0,style:!0,class:!0}),E(a).forEach(d),f=v(u,"BR",{}),g=N(u),y=v(u,"P",{id:!0,class:!0});var D=E(y);T=v(D,"A",{href:!0,class:!0});var k=E(T);S=v(k,"SPAN",{class:!0});var I=E(S);j=q(I,w),I.forEach(d),k.forEach(d),D.forEach(d),this.h()},h(){m(t,"class","svelte-1gdozns"),m(a,"id","wish-wall"),ae(a,"height",Math.min(e[2].length*1.125,20)+"em"),a.value=l=""+e[2].join(`
`)+`\r
`,m(a,"class","svelte-1gdozns"),m(S,"class","svelte-1gdozns"),m(T,"href",p=e[1]?.url),m(T,"class","svelte-1gdozns"),m(y,"id","status"),m(y,"class","svelte-1gdozns")},m(u,h){O(u,t,h),_(t,r),_(t,s),_(t,o),c&&c.m(t,null),O(u,i,h),O(u,a,h),O(u,f,h),O(u,g,h),O(u,y,h),_(y,T),_(T,S),_(S,j)},p(u,[h]){h&1&&n!==(n=u[0].length+"")&&Ae(s,n),u[0].length>0?c?c.p(u,h):(c=qe(u),c.c(),c.m(t,null)):c&&(c.d(1),c=null),h&4&&ae(a,"height",Math.min(u[2].length*1.125,20)+"em"),h&4&&l!==(l=""+u[2].join(`
`)+`\r
`)&&(a.value=l),h&2&&w!==(w=u[1]?.message+"")&&Ae(j,w),h&2&&p!==(p=u[1]?.url)&&m(T,"href",p)},i:H,o:H,d(u){u&&d(t),c&&c.d(),u&&d(i),u&&d(a),u&&d(f),u&&d(g),u&&d(y)}}}function Ie(e){return e.every(t=>t<1)}function vr(e,t,r){let n,{selectedPerks:s=[]}=t,{itemID:o=0}=t,{itemName:i=""}=t,{wishes:a=[]}=t,l=new Array(s.length).fill(0),f={message:"",url:""},g=[],y=(p,c)=>`dimwishlist:item=${p}&perks=${s[0][c[0]]},${s[1][c[1]]},${s[2][c[2]]},${s[3][c[3]]}`,T=()=>{let p=document.getElementById("wish-wall");p.select(),p.setSelectionRange(0,99999),navigator.clipboard.writeText(p.value)};lt(()=>{if(console.log(`Updated Wishlist
----------------`),j("Start"),n)console.log("Not enough options");else{for(r(0,a=[]),s.forEach((p,c)=>{l[c]=p.length-1});!Ie(l)&&w<100;)r(0,a=[...a,y(o,l)]),l[0]>0?l[0]-=1:(l[0]=s[0].length-1,l[1]>0?l[1]-=1:(l[1]=s[1].length-1,l[2]>0?l[2]-=1:(l[2]=s[2].length-1,l[3]>0?l[3]-=1:l[3]=s[3].length-1))),w+=1;j("Last Wish"),r(0,a=[...a,y(o,l)]),r(2,g=[`// ${i}`,"// - perks from perk-o-lator https://destiny.tools/perk-o-lator",...a])}w=0});let S=p=>{let c=localStorage.getItem("github");c&&(c=JSON.parse(c)),a.length>0&&c&&c.personalAuthToken&&c.repoName&&c.owner&&c.fileName&&c.personalAuthToken&&yr(c,c.fileName,o,i,a.join(`
`)).then(h=>{r(1,f={message:"Saved to "+h,url:h})},h=>{r(1,f={message:"Failed"})})},w=0,j=p=>{console.debug("----",p,"----",`
Done?`,Ie(l),`
Indices`,l,"Perks",s)};return e.$$set=p=>{"selectedPerks"in p&&r(5,s=p.selectedPerks),"itemID"in p&&r(6,o=p.itemID),"itemName"in p&&r(7,i=p.itemName),"wishes"in p&&r(0,a=p.wishes)},e.$$.update=()=>{e.$$.dirty&32&&s.forEach((p,c)=>{l[c]=p.length-1}),e.$$.dirty&32&&(n=s.some(p=>p.length<1))},[a,f,g,T,S,s,o,i]}class wr extends fe{constructor(t){super(),he(this,t,vr,br,de,{selectedPerks:5,itemID:6,itemName:7,wishes:0})}}function _r(e){let t,r,n,s;return{c(){t=b("span"),r=B("Loading"),n=x(),s=b("small"),this.h()},l(o){t=v(o,"SPAN",{id:!0});var i=E(t);r=q(i,"Loading"),i.forEach(d),n=N(o),s=v(o,"SMALL",{});var a=E(s);a.forEach(d),this.h()},h(){m(t,"id","loader")},m(o,i){O(o,t,i),_(t,r),O(o,n,i),O(o,s,i)},p:H,i:H,o:H,d(o){o&&d(t),o&&d(n),o&&d(s)}}}class Er extends fe{constructor(t){super(),he(this,t,null,_r,de,{})}}function xe(e,t,r){const n=e.slice();return n[14]=t[r],n[16]=r,n}function Ne(e,t,r){const n=e.slice();return n[17]=t[r],n}function Ar(e){let t,r;return t=new Er({}),{c(){Le(t.$$.fragment)},l(n){Fe(t.$$.fragment,n)},m(n,s){Ge(t,n,s),r=!0},p:H,i(n){r||(pe(t.$$.fragment,n),r=!0)},o(n){ge(t.$$.fragment,n),r=!1},d(n){Ve(t,n)}}}function Tr(e){let t,r,n,s,o,i,a,l,f,g,y,T,S,w,j,p=e[5],c=[];for(let u=0;u<p.length;u+=1)c[u]=$e(xe(e,p,u));return w=new wr({props:{selectedPerks:e[0],itemID:e[2],itemName:e[3]}}),{c(){t=b("header"),r=b("h1"),n=B(e[3]),s=x(),o=b("p"),i=b("a"),a=B("Light.GG"),l=x(),f=b("div"),g=b("div"),y=b("div");for(let u=0;u<c.length;u+=1)c[u].c();T=x(),S=b("div"),Le(w.$$.fragment),this.h()},l(u){t=v(u,"HEADER",{class:!0});var h=E(t);r=v(h,"H1",{class:!0});var D=E(r);n=q(D,e[3]),D.forEach(d),s=N(h),o=v(h,"P",{class:!0});var k=E(o);i=v(k,"A",{href:!0,target:!0,class:!0});var I=E(i);a=q(I,"Light.GG"),I.forEach(d),k.forEach(d),h.forEach(d),l=N(u),f=v(u,"DIV",{class:!0});var Z=E(f);g=v(Z,"DIV",{class:!0});var we=E(g);y=v(we,"DIV",{class:!0});var _e=E(y);for(let re=0;re<c.length;re+=1)c[re].l(_e);_e.forEach(d),we.forEach(d),T=N(Z),S=v(Z,"DIV",{class:!0});var Ee=E(S);Fe(w.$$.fragment,Ee),Ee.forEach(d),Z.forEach(d),this.h()},h(){m(r,"class","svelte-1x6o9tq"),m(i,"href","https://www.light.gg/db/items/"+e[2]),m(i,"target","_blank"),m(i,"class","svelte-1x6o9tq"),m(o,"class","svelte-1x6o9tq"),m(t,"class","svelte-1x6o9tq"),m(y,"class","perks svelte-1x6o9tq"),m(g,"class","selector"),m(S,"class","cut-n-paste"),m(f,"class","columns svelte-1x6o9tq")},m(u,h){O(u,t,h),_(t,r),_(r,n),_(t,s),_(t,o),_(o,i),_(i,a),O(u,l,h),O(u,f,h),_(f,g),_(g,y);for(let D=0;D<c.length;D+=1)c[D]&&c[D].m(y,null);_(f,T),_(f,S),Ge(w,S,null),j=!0},p(u,h){if(h&48){p=u[5];let k;for(k=0;k<p.length;k+=1){const I=xe(u,p,k);c[k]?c[k].p(I,h):(c[k]=$e(I),c[k].c(),c[k].m(y,null))}for(;k<c.length;k+=1)c[k].d(1);c.length=p.length}const D={};h&1&&(D.selectedPerks=u[0]),w.$set(D)},i(u){j||(pe(w.$$.fragment,u),j=!0)},o(u){ge(w.$$.fragment,u),j=!1},d(u){u&&d(t),u&&d(l),u&&d(f),ze(c,u),Ve(w)}}}function He(e){let t,r,n;return{c(){t=b("a"),this.h()},l(s){t=v(s,"A",{"data-tooltip":!0,"data-perkid":!0,"data-colid":!0,class:!0,style:!0});var o=E(t);o.forEach(d),this.h()},h(){m(t,"data-tooltip",e[17].name+": "+e[17].description+", "+e[17].stats.map(Or)),m(t,"data-perkid",e[17].id),m(t,"data-colid",e[16]),m(t,"class","perk "+e[17].enhanced+" svelte-1x6o9tq"),ae(t,"background-image","url('https://www.bungie.net"+e[17].icon+"')")},m(s,o){O(s,t,o),r||(n=[C(t,"click",ne(e[4])),C(t,"touch",ne(e[4])),C(t,"keyup",ne(e[4]))],r=!0)},p:H,d(s){s&&d(t),r=!1,Ce(n)}}}function $e(e){let t,r,n=e[14],s=[];for(let o=0;o<n.length;o+=1)s[o]=He(Ne(e,n,o));return{c(){t=b("div");for(let o=0;o<s.length;o+=1)s[o].c();r=x(),this.h()},l(o){t=v(o,"DIV",{class:!0});var i=E(t);for(let a=0;a<s.length;a+=1)s[a].l(i);r=N(i),i.forEach(d),this.h()},h(){m(t,"class","perkCol")},m(o,i){O(o,t,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null);_(t,r)},p(o,i){if(i&48){n=o[14];let a;for(a=0;a<n.length;a+=1){const l=Ne(o,n,a);s[a]?s[a].p(l,i):(s[a]=He(l),s[a].c(),s[a].m(t,r))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(o){o&&d(t),ze(s,o)}}}function kr(e){let t,r,n,s;const o=[Tr,Ar],i=[];function a(l,f){return l[3]?0:1}return r=a(e),n=i[r]=o[r](e),{c(){t=b("div"),n.c(),this.h()},l(l){t=v(l,"DIV",{class:!0});var f=E(t);n.l(f),f.forEach(d),this.h()},h(){m(t,"class","item svelte-1x6o9tq")},m(l,f){O(l,t,f),i[r].m(t,null),s=!0},p(l,[f]){n.p(l,f)},i(l){s||(pe(n),s=!0)},o(l){ge(n),s=!1},d(l){l&&d(t),i[r].d()}}}const Or=e=>e.name+":"+e.change;function Sr(e,t,r){let n,s,o,i;Y(e,ht,c=>r(6,n=c)),Y(e,dt,c=>r(7,o=c)),Y(e,ft,c=>r(8,i=c));const a=ut([[],[],[],[]]);Y(e,a,c=>r(0,s=c));const l=i.url.hash.substr(1);console.log(l);const f=n[l]?.displayProperties?.name,y=[1,2,3,4].map(c=>n[l]?.sockets.socketEntries[c].randomizedPlugSetHash).filter(c=>c>0).map(c=>o[c].reusablePlugItems.map(u=>u.plugItemHash)),T=c=>{try{return n[c]?.displayProperties?.iconSequences[1]?.frames[0]}catch{return console.log("No frames",n[c]),n[c]?.displayProperties?.icon}},S=(c,u)=>c.includes(u)?c.filter(h=>h!=u):[...c,u];function w(c){c.target.dataset.perkid;let u=c.target.dataset.colid;c.target.classList.toggle("selected"),ct(a,s[u]=S(s[u],c.target.dataset.perkid),s)}const j=new RegExp("Enhanced"),p=y.map(function(c){return c.map(function(u){return{id:u,name:n[u]?.displayProperties?.name,description:n[u]?.displayProperties?.description,icon:T(u),enhanced:n[u]?.itemTypeDisplayName.match(j)?"enhanced":"basic",stats:n[u]?.investmentStats?.map(h=>({name:pt[h.statTypeHash]?.displayProperties?.name,change:h.value}))}})});return[s,a,l,f,w,p]}class Br extends fe{constructor(t){super(),he(this,t,Sr,kr,de,{})}}export{Br as default};
