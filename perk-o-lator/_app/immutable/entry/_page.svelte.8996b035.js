import{S as ae,i as le,s as re,k as _,q as A,a as L,l as d,m as b,r as H,h as o,c as q,n as r,b as z,D as e,J as Z,K as $,I as x,L as ie,M as he,H as ne,u as V}from"../chunks/index.466a05aa.js";import{b as oe}from"../chunks/manifest.d6839a65.js";import{b as ee}from"../chunks/paths.0a3cf751.js";function te(h,t,c){const m=h.slice();return m[7]=t[c],m}function se(h){let t,c,m=h[7].displayProperties?.name+"",E,u,T,n=h[7]?.itemType+"",g,S,v=h[7]?.itemSubType+"",D,N,k,R=h[7]?.itemTypeAndTierDisplayName+"",O,B,I,y,l,a,f,s,P,G,C,w,J,j,M;return{c(){t=_("tr"),c=_("td"),E=A(m),u=L(),T=_("td"),g=A(n),S=A("/"),D=A(v),N=L(),k=_("td"),O=A(R),B=L(),I=_("td"),y=_("a"),l=A("Add Rolls"),f=L(),s=_("a"),P=A("Light.GG"),C=L(),w=_("a"),J=A("DataSets"),M=L(),this.h()},l(p){t=d(p,"TR",{});var i=b(t);c=d(i,"TD",{});var F=b(c);E=H(F,m),F.forEach(o),u=q(i),T=d(i,"TD",{});var U=b(T);g=H(U,n),S=H(U,"/"),D=H(U,v),U.forEach(o),N=q(i),k=d(i,"TD",{});var Q=b(k);O=H(Q,R),Q.forEach(o),B=q(i),I=d(i,"TD",{});var K=b(I);y=d(K,"A",{href:!0,class:!0});var W=b(y);l=H(W,"Add Rolls"),W.forEach(o),f=q(K),s=d(K,"A",{href:!0,target:!0,class:!0});var X=b(s);P=H(X,"Light.GG"),X.forEach(o),C=q(K),w=d(K,"A",{href:!0,target:!0,class:!0});var Y=b(w);J=H(Y,"DataSets"),Y.forEach(o),K.forEach(o),i.forEach(o),M=q(p),this.h()},h(){r(y,"href",a=ee+"/items#"+h[7].hash),r(y,"class","svelte-isb90y"),r(s,"href",G="https://www.light.gg/db/items/"+h[7].hash),r(s,"target","_blank"),r(s,"class","svelte-isb90y"),r(w,"href",j="https://data.destinysets.com/i/InventoryItem:"+h[7].hash),r(w,"target","_blank"),r(w,"class","svelte-isb90y")},m(p,i){z(p,t,i),e(t,c),e(c,E),e(t,u),e(t,T),e(T,g),e(T,S),e(T,D),e(t,N),e(t,k),e(k,O),e(t,B),e(t,I),e(I,y),e(y,l),e(I,f),e(I,s),e(s,P),e(I,C),e(I,w),e(w,J),z(p,M,i)},p(p,i){i&2&&m!==(m=p[7].displayProperties?.name+"")&&V(E,m),i&2&&n!==(n=p[7]?.itemType+"")&&V(g,n),i&2&&v!==(v=p[7]?.itemSubType+"")&&V(D,v),i&2&&R!==(R=p[7]?.itemTypeAndTierDisplayName+"")&&V(O,R),i&2&&a!==(a=ee+"/items#"+p[7].hash)&&r(y,"href",a),i&2&&G!==(G="https://www.light.gg/db/items/"+p[7].hash)&&r(s,"href",G),i&2&&j!==(j="https://data.destinysets.com/i/InventoryItem:"+p[7].hash)&&r(w,"href",j)},d(p){p&&o(t),p&&o(M)}}}function ce(h){let t,c,m,E,u,T,n,g,S,v,D,N,k,R,O,B,I,y=h[1],l=[];for(let a=0;a<y.length;a+=1)l[a]=se(te(h,y,a));return{c(){t=_("div"),c=_("h1"),m=A("Search for a weapon"),E=L(),u=_("input"),T=L(),n=_("table"),g=_("tr"),S=_("th"),v=A("Name"),D=_("th"),N=A("ItemType/Subtype"),k=_("th"),R=A("Type & Tier Display"),O=L();for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){t=d(a,"DIV",{id:!0,class:!0});var f=b(t);c=d(f,"H1",{});var s=b(c);m=H(s,"Search for a weapon"),s.forEach(o),E=q(f),u=d(f,"INPUT",{type:!0,class:!0}),T=q(f),n=d(f,"TABLE",{id:!0,class:!0});var P=b(n);g=d(P,"TR",{});var G=b(g);S=d(G,"TH",{class:!0});var C=b(S);v=H(C,"Name"),C.forEach(o),D=d(G,"TH",{class:!0});var w=b(D);N=H(w,"ItemType/Subtype"),w.forEach(o),k=d(G,"TH",{class:!0});var J=b(k);R=H(J,"Type & Tier Display"),J.forEach(o),G.forEach(o),O=q(P);for(let j=0;j<l.length;j+=1)l[j].l(P);P.forEach(o),f.forEach(o),this.h()},h(){r(u,"type","text"),r(u,"class","svelte-isb90y"),r(S,"class","svelte-isb90y"),r(D,"class","svelte-isb90y"),r(k,"class","svelte-isb90y"),r(n,"id","results"),r(n,"class","svelte-isb90y"),r(t,"id","search"),r(t,"class","svelte-isb90y")},m(a,f){z(a,t,f),e(t,c),e(c,m),e(t,E),e(t,u),Z(u,h[0]),e(t,T),e(t,n),e(n,g),e(g,S),e(S,v),e(g,D),e(D,N),e(g,k),e(k,R),e(n,O);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(n,null);B||(I=[$(u,"input",h[3]),$(u,"keyup",h[2])],B=!0)},p(a,[f]){if(f&1&&u.value!==a[0]&&Z(u,a[0]),f&2){y=a[1];let s;for(s=0;s<y.length;s+=1){const P=te(a,y,s);l[s]?l[s].p(P,f):(l[s]=se(P),l[s].c(),l[s].m(n,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=y.length}},i:x,o:x,d(a){a&&o(t),ie(l,a),B=!1,he(I)}}}let ue=400;function fe(h,t,c){let m;ne(h,oe,v=>c(5,m=v));let E="",u,T=[];const n=()=>{clearTimeout(u),u=setTimeout(g,ue,E)},g=v=>{if(v.length>3){console.log("Ok lets query",v);let D=new RegExp(v,"i");c(1,T=Object.values(m).filter(N=>N.equippable&&N.itemType===3&&N.displayProperties?.name.match(D)))}};function S(){E=this.value,c(0,E)}return[E,T,n,S]}class me extends ae{constructor(t){super(),le(this,t,fe,ce,re,{})}}export{me as default};
